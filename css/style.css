/* ==========================================================================
   1. VARIABLES (Theme: Kanagawa)
   ========================================================================== */
:root {
  /* Base Colors */
  --bg-main: #1f1f28;      /* SumiInk1: 深い背景色 */
  --fg-main: #dcd7ba;      /* OldWhite: メインの文字色 */
  
  /* UI Components */
  --bg-status: #2a2a37;    /* SumiInk3: ステータスライン等 */
  --bg-highlight: #2d2c2d; /* Sumimi: 行のハイライト */
  --cursor-bg: #c8c093;    /* RoninYellow: カーソル色 */
  
  /* Mode Accent Colors */
  --accent-blue: #7e9cd8;    /* CrystalBlue: Normal */
  --accent-green: #98bb6c;   /* AutumnGreen: Insert */
  --accent-purple: #957fb8;  /* OniViolet: Visual */
  --accent-sakura: #d27399;  /* SakuraPink: Visual Line */
  --accent-crystal: #7fb4ca; /* LightBlue: Visual Block (少し色味を調整) */
  --accent-red: #c34043;     /* AutumnRed: Replace / Error */
  --accent-yellow: #e6c384;  /* CarpYellow: Command */
  
  /* Debugging */
  --debug-border: transparent; /* 開発時は 2px solid #000 に変更 */
}

/* ==========================================================================
   2. GLOBAL STYLES
   ========================================================================== */
body {
  margin: 0;
  overflow: hidden;
  background-color: var(--bg-main);
  color: var(--fg-main);
  font-family: 'JetBrains Mono', 'Fira Code', 'Cascadia Code', monospace;
}

#app {
  display: grid;
  height: 100vh;
  /* Header / Editor / StatusLine / CommandLine */
  grid-template-rows: auto 1fr 30px 2.5rem;
}

/* Test/Debug Border - 一括管理 */
header, #workspace, #statusline, #command-line {
  border: var(--debug-border);
}

/* ==========================================================================
   3. EDITOR AREA
   ========================================================================== */
#workspace {
  overflow: hidden;
}

#editor {
  height: 100%;
  overflow-y: auto;
  font-size: 16px;
  line-height: 1.5;
}

.line {
  white-space: pre;
  min-height: 1.5em;
  padding: 0 5px;
}

.line.active-line {
  background-color: var(--bg-highlight);
}

/* Cursor Style */
.cursor {
  display: inline-block;
  width: 1ch;
  background-color: var(--cursor-bg);
  color: var(--bg-main);
}

/* ==========================================================================
   4. STATUS LINE & MODES
   ========================================================================== */
#statusline {
  background-color: var(--bg-status);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 10px;
  font-size: 0.8rem;
  font-weight: bold;
  transition: background-color 0.2s ease; /* モード切替を滑らかに */
}

/* Mode-Specific Styles (JSで付与されるクラス) */
#statusline.mode-normal       { background-color: var(--accent-blue);    color: var(--bg-main); }
#statusline.mode-insert       { background-color: var(--accent-green);   color: var(--bg-main); }
#statusline.mode-visual       { background-color: var(--accent-purple);  color: var(--bg-main); }
#statusline.mode-visual-line  { background-color: var(--accent-sakura);  color: var(--bg-main); }
#statusline.mode-visual-block { background-color: var(--accent-crystal); color: var(--bg-main); }
#statusline.mode-replace      { background-color: var(--accent-red);     color: var(--bg-main); }
#statusline.mode-command      { background-color: var(--accent-yellow);  color: var(--bg-main); }
